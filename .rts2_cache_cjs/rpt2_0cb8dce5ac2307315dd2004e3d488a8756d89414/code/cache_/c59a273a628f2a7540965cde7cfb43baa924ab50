{"code":"import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { cache, mutate } from \"swr\";\r\nimport { DndProvider } from \"react-dnd\";\r\nimport Backend from \"react-dnd-html5-backend\";\r\nimport Data from \"./Data\";\r\nimport Keys from \"./Keys\";\r\nimport DropContainer from \"./DropContainer\";\r\nimport ToolsPanel from \"./ToolsPanel\";\r\nfunction filterErrors(keys) {\r\n    return keys.filter(key => !key.includes(\"err@\"));\r\n}\r\nexport default function SWRDevtools({ children }) {\r\n    const [show, toggleShow] = useState(true);\r\n    const [toolbarPosition, setToolbarPosition] = useState(\"right\");\r\n    const [cacheKeys, setCacheKeys] = useState(filterErrors(cache.keys()));\r\n    const [selectedCacheItemData, setSelectedCacheItemData] = useState(null);\r\n    const [selectedCacheKey, setSelectedCacheKey] = useState(null);\r\n    const handleToggleShow = () => toggleShow(!show);\r\n    const handleSetCacheKey = useCallback(() => {\r\n        setCacheKeys(filterErrors(cache.keys()));\r\n        if (selectedCacheKey) {\r\n            setSelectedCacheItemData(cache.get(selectedCacheKey));\r\n        }\r\n    }, [selectedCacheKey]);\r\n    useEffect(() => cache.subscribe(handleSetCacheKey), [handleSetCacheKey]);\r\n    const handleSelectedCacheItem = (key) => {\r\n        setSelectedCacheKey(key);\r\n        setSelectedCacheItemData(cache.get(key));\r\n    };\r\n    const clearCacheByKey = (key) => {\r\n        cache.set(key, null);\r\n    };\r\n    const revalidate = (key) => {\r\n        mutate(key);\r\n    };\r\n    const getChildrenStyles = () => {\r\n        if (toolbarPosition === \"left\") {\r\n        }\r\n    };\r\n    return (React.createElement(DndProvider, { backend: Backend },\r\n        !show && React.createElement(\"div\", { style: {\r\n                position: \"fixed\",\r\n                boxSizing: \"border-box\",\r\n                bottom: 0,\r\n                left: 0,\r\n                zIndex: 9999\r\n            } },\r\n            React.createElement(\"div\", { style: { paddingRight: \"1rem\", paddingBottom: \"1rem\" } },\r\n                React.createElement(\"button\", { title: \"Open SWR Devtools\", onClick: handleToggleShow, style: {\r\n                        border: 0,\r\n                        backgroundColor: \"transparent\",\r\n                        boxSizing: \"border-box\",\r\n                        padding: 0\r\n                    } },\r\n                    React.createElement(\"span\", { role: \"img\", \"aria-label\": \"Open Devtools\", style: {\r\n                            fontSize: 32\r\n                        } }, \"\\uD83D\\uDC68\\u200D\\uD83D\\uDCBB\")))),\r\n        React.createElement(DropContainer, null, ({ position }) => (React.createElement(ToolsPanel, Object.assign({ show: show }, position, { toolbarPosition: toolbarPosition, setToolbarPosition: setToolbarPosition, toggleShow: handleToggleShow }),\r\n            React.createElement(\"div\", { style: { display: \"flex\" } },\r\n                React.createElement(\"div\", { style: { width: \"40%\" } },\r\n                    React.createElement(Keys, { keys: cacheKeys, selectedKey: selectedCacheKey, onSelect: handleSelectedCacheItem, onClear: clearCacheByKey, onRevalidate: revalidate })),\r\n                React.createElement(\"div\", { style: { width: \"60%\" } },\r\n                    React.createElement(Data, { data: selectedCacheItemData, cacheKey: selectedCacheKey, toolbarPosition: toolbarPosition })))))),\r\n        React.createElement(\"div\", { style: { width: \"calc(100% - 0%)\" } }, children)));\r\n}\r\n//# sourceMappingURL=index.js.map","map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../src/SWRDevtools/index.tsx\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"C:/Development/swr-devtools/SWRDevtools/index.d.ts","writeByteOrderMark":false,"text":"/// <reference types=\"react\" />\r\nexport default function SWRDevtools({ children }: any): JSX.Element;\r\n"}}
